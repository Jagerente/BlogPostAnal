{% extends 'base.html.twig' %}

{% block title %}Posts
{% endblock %}

{% block body %}
	<link href="{{ asset('css/pages/posts/posts_list.css') }}" rel="stylesheet"/>

	<h1>Posts</h1>

	<div class="post-list">
		{% for post in posts %}
			<div class="post-card">
				<h2 class="post-card__title">{{ post.title|slice(0, 32) }}</h2>
				<p class="post-card__description">{{ post.body|slice(0, 64) }}</p>
				<p class="post-card__created-at">{{ post.createdAt ? post.createdAt|date('Y-m-d H:i:s') : '' }}</p>
				<p class="post-card__author">Written by:
					{{ post.author.username }}</p>
				<div class="post-card__actions">
					{{ include('post/_buttons/_show_post.html.twig', {'id': post.id}) }}
				</div>
			</div>
		{% else %}
			<p class="post-list__empty">No records found.</p>
		{% endfor %}
	</div>
{% endblock %}
